<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    .fuContent {
        overflow-y: scroll; /* has to be scroll, not auto */
        -webkit-overflow-scrolling: touch;
        height: calc(100vh - 170px);
    }

    @media (max-width: 600px) {
        .fuHeader {
            display: none;
        }

        .fuContent {
            height: calc(100vh - 170px);
        }
    }

    @media (min-width: 1200px) {
        .fuContent {
            height: calc(100vh - 230px);
        }
    }

    .thin-scroll3::-webkit-scrollbar {
        width: 8px;
        height: 8px;
    }

    .thin-scroll3::-webkit-scrollbar-thumb {
        background-color: #ddd;
        outline: 1px solid slategrey;
    }

    .tile-total {
        border: 1px solid #ccc;
        margin: 5px 5px 5px 0;
        text-align: center;
        border-radius: 2px;
        padding: 3px;
        background: white;
    }

        .tile-total .caption {
            font-size: 14px;
            padding: 4px 1px 3px 1px;
            color: #666666 !important;
            font-weight: normal
        }

        .tile-total .value {
            font-size: 14px;
            font-weight: bold;
            padding: 1px 1px 2px 1px;
        }

    .tbl-inf td {
        padding: 5px;
        min-width: 100px;
    }

        .tbl-inf td:nth-child(even) {
            text-align: left
        }

        .tbl-inf td:nth-child(odd) {
            text-align: right;
        }

    .tile-container {
        display: inline-flex;
        width: 100%;
        overflow-x: auto;
        overflow-y: hidden;
    }

        .tile-container .tile-total {
            display: inline-block;
            width: 16.6%;
            min-width: 220px;
        }

    .tile-total td {
        background: white;
    }

    .thin-scroll4::-webkit-scrollbar {
        width: 6px;
        height: 6px;
    }

    .thin-scroll4::-webkit-scrollbar-thumb {
        background-color: #eee;
        outline: 1px solid slategrey;
    }

    .dx-tab {
        background-color: lightgray !important;
    }

    .iblock {
        /*clear:both !important;
        display:inline-block !important;
        float:none !important;*/
    }

    .tdchart {
        height: 60px;
    }

        .tdchart canvas {
            height: 60px !important;
        }

    .dx-area-row-cell {
        background: blanchedalmond !important;
    }

        .dx-area-row-cell.dx-bottom-border {
            background: blanchedalmond !important;
        }

    .dx-area-column-cell {
        background: blanchedalmond;
    }

    .dx-area-row-cell.dx-bottom-border td {
        color: black !important;
        font-weight: bold;
        /*text-align: center !important;*/
    }

        .dx-area-row-cell.dx-bottom-border td span:not(.dx-expand) {
            font-family: Tahoma !important;
            /*text-align:center !important;*/
        }

    .dx-pivotgrid-container * {
        border-color: gray !important;
    }

    .dx-pivotgrid-area td {
        text-align: center !important;
    }

    #dg_pivot .dx-datagrid-header-panel {
        padding: 0;
        background-color: gray;
        color: white;
    }

        #dg_pivot .dx-datagrid-header-panel .dx-toolbar {
            margin: 0;
            padding-right: 20px;
            background-color: transparent;
            padding-left: 10px;
        }

        #dg_pivot .dx-datagrid-header-panel .dx-toolbar-items-container {
            height: 35px;
        }

    #dg_pivot .dx-icon.dx-icon-export-excel-button {
        color: white;
    }

    .off-type {
        background: #eee;
        color: black;
    }

    .on-type {
        background: #a6a6a6 !important;
        color: white;
    }
</style>
<div class="box fuelkpi" style="height:100%;display:none;overflow-y:hidden">

    <div ng-include="'app/views/header.html'" class="rowx header"></div>
    <div ng-include="'app/views/menu.html'"></div>
    <div class="rowx content1" style="clear:both">
        <div dx-tabs="tabs_options"></div>

        <div class="fuContent thin-scroll3" style="padding:8px 0 8px 8px;  ">
            <div ng-show="activeTab=='overall'" class="kpi-container">
                <div style="padding:8px 0 8px 8px;  ">
                    <table style="width:100%; ">
                        <tr>
                            <td><div style="font-weight:bold;font-size:18px;margin:0 0 10px 0;padding-left:15px">Summary</div></td>
                            <td class="dx-border" style="width:100px;padding:0 0px 10px 5px"><div dx-select-box="sb_year" class="center"></div></td>
                            <td class="dx-border" style="width:100px;padding:0 15px 10px 5px"><div dx-select-box="sb_month" class="center"></div></td>
                        </tr>
                    </table>

                </div>
                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Cycles</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(1,current.LegsDiff)">{{current.LegsDiff}}%</span>
                                    <i ng-show="current.LegsDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(1,current.LegsDiff)"></i>
                                    <i ng-show="current.LegsDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(1,current.LegsDiff)"></i>
                                </td>
                            </tr>



                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.Legs}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreLegs}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Pax</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(1,current.TotalPaxDiff)">{{current.TotalPaxDiff}}%</span>
                                    <i ng-show="current.TotalPaxDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(1,current.TotalPaxDiff)"></i>
                                    <i ng-show="current.TotalPaxDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(1,current.TotalPaxDiff)"></i>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.TotalPax}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreTotalPax}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Used Fuel (K)</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(-1,current.UsedKiloDiff)">{{current.UsedKiloDiff}}%</span>
                                    <i ng-show="current.UsedKiloDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedKiloDiff)"></i>
                                    <i ng-show="current.UsedKiloDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedKiloDiff)"></i>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedKilo}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedKilo}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Block Time</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(0,current.BlockTimeDiff)">{{current.BlockTimeDiff}}%</span>
                                    <i ng-show="current.BlockTimeDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(0,current.BlockTimeDiff)"></i>
                                    <i ng-show="current.BlockTimeDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(0,current.BlockTimeDiff)"></i>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{formatMinutes(current.BlockTime)}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{formatMinutes(current.PreBlockTime)}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Load(tone)</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(-1,current.WeightToneDiff)">{{current.WeightToneDiff}}%</span>
                                    <i ng-show="current.WeightToneDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(-1,current.WeightToneDiff)"></i>
                                    <i ng-show="current.WeightToneDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(-1,current.WeightToneDiff)"></i>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.WeightTone}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreWeightTone}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <div class="col-lg-2" style="margin-bottom:10px;" ng-click="showRoutePage(r.Route)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;padding-bottom:0; font-size:13px">Distance(km)</td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 2px 5px">
                                    <span style="display:inline-block;font-size:17px" ng-style="getDiffStyle(0,current.DistanceDiff)">{{current.DistanceDiff}}%</span>
                                    <i ng-show="current.DistanceDiff>0" class="fa fa-caret-up" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(0,current.DistanceDiff)"></i>
                                    <i ng-show="current.DistanceDiff<0" class="fa fa-caret-down" style="font-size:26px;margin-left:5px" ng-style="getDiffStyle(0,current.DistanceDiff)"></i>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.Distance}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreDistance}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <div style="clear:both"></div>
           
            <div style="font-weight:bold;font-size:18px;margin:0 0 10px 0;padding-left:15px;">KPIs</div>
            <div class="padding-0" style="padding:0 15px 25px 15px; border:0px solid #ccc;padding:0;">


                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('RPK')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    RPK
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Passengers(kilo) Kilometers</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerPaxKiloDistanceKMDiff)">{{current.UsedPerPaxKiloDistanceKMDiff}}%</span>
                                    <i ng-show="current.UsedPerPaxKiloDistanceKMDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                    <i ng-show="current.UsedPerPaxKiloDistanceKMDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" class="tdchart" style="padding:5px; ">
                                    <canvas class="chart-rpk" style="  width: 100%; "></canvas>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerPaxKiloDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerPaxKiloDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>
                <!--RPB-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('RPB')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    RPB
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Passengers Block Time</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerPaxBlockTimeDiff)">{{current.UsedPerPaxBlockTimeDiff}}%</span>
                                    <i ng-show="current.UsedPerPaxBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxBlockTimeDiff)"></i>
                                    <i ng-show="current.UsedPerPaxBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxBlockTimeDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-rpb" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerPaxBlockTime}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerPaxBlockTime}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <!--FTK-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FTK')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FTK
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Tone Kilometers</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerWeightDistanceDiff)">{{current.UsedPerWeightDistanceDiff}}%</span>
                                    <i ng-show="current.UsedPerWeightDistanceDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerWeightDistanceDiff)"></i>
                                    <i ng-show="current.UsedPerWeightDistanceDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerWeightDistanceDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-wk" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerWeightDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerWeightDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <!--FBL-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FBL')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FBL
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Block Time</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerBlockTimeDiff)">{{current.UsedPerBlockTimeDiff}}%</span>
                                    <i ng-show="current.UsedPerBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerBlockTimeDiff)"></i>
                                    <i ng-show="current.UsedPerBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerBlockTimeDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-fbl" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerBlockTime}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerBlockTime}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <!--FRP-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FRP')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FRP
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Pax</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerPaxDiff)">{{current.UsedPerPaxDiff}}%</span>
                                    <i ng-show="current.UsedPerPaxDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxDiff)"></i>
                                    <i ng-show="current.UsedPerPaxDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerPaxDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-fpx" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerPax}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerPax}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <!--FC-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FC')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FC
                                    <div style="font-weight:normal;font-size:13px;">Fuel / Cycle</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedDiffPerLeg)">{{current.UsedDiffPerLeg}}%</span>
                                    <i ng-show="current.UsedDiffPerLeg>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedDiffPerLeg)"></i>
                                    <i ng-show="current.UsedDiffPerLeg<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedDiffPerLeg)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-fc" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerLeg}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerLeg}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>


                <!--FU-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FU')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FU
                                    <div style="font-weight:normal;font-size:13px;">Fuel used per Uplift </div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerUpLiftDiff)">{{current.UsedPerUpLiftDiff}}%</span>
                                    <i ng-show="current.UsedPerUpLiftDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerUpLiftDiff)"></i>
                                    <i ng-show="current.UsedPerUpLiftDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerUpLiftDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-used" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerUpLift}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerUpLift}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <!--USED-FLIGHTPLAN FP-->
                <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPI('FP')">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    FP
                                    <div style="font-weight:normal;font-size:13px;">Fuel used per Planned value </div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,current.UsedPerFPFuelDiff)">{{current.UsedPerFPFuelDiff}}%</span>
                                    <i ng-show="current.UsedPerFPFuelDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerFPFuelDiff)"></i>
                                    <i ng-show="current.UsedPerFPFuelDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,current.UsedPerFPFuelDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" style="padding:5px;" class="tdchart">
                                    <canvas class="chart-fp" height="100" width="322" style="display: block; height: 70px; width: 100%; "></canvas>
                                    <div style="clear:both"></div>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{current.UsedPerFPFuel}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{current.PreUsedPerFPFuel}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

                <div style="clear:both"></div>
            </div>
            <!--END OF MAIN KPI CONTAINER-->
        </div>
        <div ng-show="activeTab=='aircraft'" class="kpi-container">
            <div style="padding:8px 0 8px 8px;  ">

                <table style="width:100%; ">
                    <tr>
                        <td><div style="font-weight:bold;font-size:18px;margin:0 0 10px 0;padding-left:15px">Summary</div></td>

                        <td class="dx-border" style="width:100px;padding:0 0px 10px 5px"><div dx-select-box="sb_year" class="center"></div></td>
                        <td class="dx-border" style="width:100px;padding:0 15px 10px 5px"><div dx-select-box="sb_month" class="center"></div></td>
                    </tr>
                </table>
                <div class="padding-0" style="padding:0 15px 15px 15px; border:0px solid #ccc; ">
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Used(K) Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_used" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedTypes" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Type}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.UsedKiloDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.UsedKilo.toFixed(2)}}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.UsedKilo.toFixed(2)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Weight(tone) Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_weight" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedTypes" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Type}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.WeightToneDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.WeightTone.toFixed(2)}}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.WeightTone.toFixed(2)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Cycles Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_leg" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedTypes" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Type}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.LegsDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.Legs }}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.Legs }}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Block Time Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_bl" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedTypes" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Type}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.BlockTimeDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{formatMinutes(r.current.BlockTime) }}</td>
                                    <td style="text-align:center;padding:3px;">{{formatMinutes(r.past.BlockTime)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div style="clear:both"></div>
            </div>

            <div class="padding-0" style="padding:0 15px 15px 15px; border:0px solid #ccc; ">
                <div ng-repeat="t in groupedTypes" on-finish-render="ngRepeatFinishedTypes">
                    <div style="font-weight:bold;font-size:16px;margin:0 0 10px 0;padding-left:15px; padding:7px;background:#eee;border-bottom:1px solid #ccc;border-top:1px solid #ccc">{{t.Type}}<span style="display:inline-block;margin-left:5px;font-size:16px;color:gray">KPIs</span></div>
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIAC('RPK',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        RPK
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Passengers(kilo) Kilometers</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)">{{t.current.UsedPerPaxKiloDistanceKMDiff}}%</span>
                                        <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                        <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" class="tdchart" style="padding:5px; ">
                                        <canvas class="chart-rpk chart-type" style="  width: 100%; " data-kpi="RPK" data-type="{{t.TypeId}}" data-field="UsedPerPaxKiloDistanceKM"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerPaxKiloDistanceKM}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerPaxKiloDistanceKM}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <!--FTK-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIAC('FTK',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FTK
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Tone Kilometers</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)">{{t.current.UsedPerWeightToneDistanceDiff}}%</span>
                                        <i ng-show="t.current.UsedPerWeightToneDistanceDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)"></i>
                                        <i ng-show="t.current.UsedPerWeightToneDistanceDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-ftk chart-type" style="  width: 100%; " data-kpi="RPK" data-type="{{t.TypeId}}" data-field="UsedPerWeightToneDistance"></canvas>

                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneDistance}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneDistance}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>

                    <!--FTB-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIAC('FTB',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FTB
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Tone Block Time</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)">{{t.current.UsedPerWeightToneBlockTimeDiff}}%</span>
                                        <i ng-show="t.current.UsedPerWeightToneBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)"></i>
                                        <i ng-show="t.current.UsedPerWeightToneBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-ftb chart-type" style="  width: 100%; " data-kpi="RPK" data-type="{{t.TypeId}}" data-field="UsedPerWeightToneBlockTime"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerWeightToneBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>

                    <!--FBL-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIAC('FBL',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FBL
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Block Time</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)">{{t.current.UsedPerBlockTimeDiff}}%</span>
                                        <i ng-show="t.current.UsedPerBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)"></i>
                                        <i ng-show="t.current.UsedPerBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-fbl chart-type" style="  width: 100%; " data-kpi="RPK" data-type="{{t.TypeId}}" data-field="UsedPerBlockTime"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <div style="clear:both"></div>
                    <!--FC-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIAC('FC',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FC
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Cycle</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)">{{t.current.UsedPerLegDiff}}%</span>
                                        <i ng-show="t.current.UsedPerLegDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)"></i>
                                        <i ng-show="t.current.UsedPerLegDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-fc chart-type" style="  width: 100%; " data-kpi="RPK" data-type="{{t.TypeId}}" data-field="UsedPerLeg"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerLeg}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerLeg}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <!--<div class="col-lg-3 iblock" style="margin-bottom:10px;"  ></div>-->

                    <div style="clear:both"></div>
                </div>

            </div>



            <!--END OF MAIN KPI CONTAINER-->
        </div>


        <div ng-show="activeTab=='route'" class="kpi-container">
            <div style="padding:8px 0 8px 8px;  ">
                <!--<div id="sales" dx-pivot-grid="pivotGridOptions"></div>-->
                <table style="width:100%; ">
                    <tr>
                        <td class="dx-border" style="padding-right:5px;"><div dx-text-box="text_search_route" style="background:white"></div></td>

                        <td class="dx-border" style="width:100px;padding:0 0px  0px 5px"><div dx-select-box="sb_year" class="center"></div></td>
                        <td class="dx-border" style="width:100px;padding:0 15px  0px 5px"><div dx-select-box="sb_month" class="center"></div></td>
                    </tr>
                </table>

                <div style="clear:both"></div>
            </div>

            <div class="padding-0" style="padding:0 15px 15px 15px; border:0px solid #ccc; ">
                <div ng-repeat="t in groupedRoutes" on-finish-render="ngRepeatFinishedRoutes" class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIRoute('RPK',t)" ng-show="(t.current || t.past) && (routeSearchParts.length==0 || routeSearchParts.indexOf(t.FromAirportIATA)!=-1 || routeSearchParts.indexOf(t.ToAirportIATA)!=-1)">
                    <div style="border:1px solid #ccc">
                        <table style="width:100%;border-bottom:0px solid #ccc">
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                    <span style="font-size: 15px;font-weight:bold;display:inline-block;margin-right:5px">{{t.Route}}</span>
                                    <span style="font-size: 15px;font-weight:normal;display:inline-block;margin-right:5px;color:gray"> (RPK)</span>

                                    <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Passengers(kilo) Kilometers</div>


                                </td>
                            </tr>
                            <tr>
                                <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                    <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)">{{t.current.UsedPerPaxKiloDistanceKMDiff}}%</span>
                                    <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                    <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                </td>
                            </tr>


                            <tr>
                                <td colspan="3" class="tdchart" style="padding:5px; ">
                                    <canvas class="chart-rpk chart-route" style="  width: 100%; " data-kpi="RPK" data-type="{{t.Route}}" data-field="UsedPerPaxKiloDistanceKM"></canvas>
                                </td>
                            </tr>
                            <tr style="border-top:1px dashed #ddd">

                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                            </tr>
                            <tr>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerPaxKiloDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerPaxKiloDistanceKM}}</td>
                                <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                            </tr>
                        </table>

                    </div>

                </div>

            </div>



            <!--END OF MAIN KPI CONTAINER-->
        </div>


        <div ng-show="activeTab=='register'" class="kpi-container">
            <div style="padding:8px 0 8px 8px;  ">
                <table style="width:100%; ">
                    <tr>
                        <td><div style="font-weight:bold;font-size:18px;margin:0 0 10px 0;padding-left:15px">Summary</div></td>

                        <td class="dx-border" style="width:100px;padding:0 0px 10px 5px"><div dx-select-box="sb_year" class="center"></div></td>
                        <td class="dx-border" style="width:100px;padding:0 15px 10px 5px"><div dx-select-box="sb_month" class="center"></div></td>
                    </tr>
                </table>
                <div class="padding-0" style="padding:0 15px 15px 15px; border:0px solid #ccc; ">
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Used(K) Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_usedreg" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedRegisters" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Register}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.UsedKiloDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.UsedKilo.toFixed(2)}}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.UsedKilo.toFixed(2)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Weight(tone) Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_weightreg" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedRegisters" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Register}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.WeightToneDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.WeightTone.toFixed(2)}}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.WeightTone.toFixed(2)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Cycles Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_legreg" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedRegisters" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Register}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.LegsDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{r.current.Legs }}</td>
                                    <td style="text-align:center;padding:3px;">{{r.past.Legs }}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>

                    <div class="col-lg-3 iblock" style="margin-bottom:10px;">

                        <div style="text-align:center;color:gray;font-weight:bold;padding-bottom:5px">Block Time Current,Past,Total</div>
                        <div dx-pie-chart="pie_sum_blreg" style="margin-top:20px"></div>
                        <table style="width:100%;border:1px solid #ccc;margin-top:10px">
                            <thead>
                                <tr style="border-bottom:1px solid #ccc">
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;"></th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">%</th>
                                    <th style="text-align:center;width:25%;border-right:1px solid #ddd;padding:3px;">Current</th>
                                    <th style="text-align:center;width:25%;padding:3px;">Past</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="r in groupedRegisters" style="border-bottom:1px solid #ccc">
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;font-weight:bold">{{r.Register}}</td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">
                                        {{r.current.BlockTimeDiff.toFixed(1)}}
                                    </td>
                                    <td style="text-align:center;border-right:1px solid #ddd;padding:3px;">{{formatMinutes(r.current.BlockTime) }}</td>
                                    <td style="text-align:center;padding:3px;">{{formatMinutes(r.past.BlockTime)}}</td>
                                </tr>
                            </tbody>

                        </table>
                    </div>
                    <div style="clear:both"></div>
                </div>
                <div style="clear:both"></div>
            </div>


            <div class="padding-0" style="padding:0 15px 15px 15px; border:0px solid #ccc; ">

                <div ng-repeat="t in groupedRegisters" on-finish-render="ngRepeatFinishedRegisters">
                    <!--<div style="font-weight:bold;font-size:16px;margin:0 0 10px 0;padding-left:15px;">{{t.Register}}</div>-->

                    <div style="font-weight:bold;font-size:16px;margin:0 0 10px 0;padding-left:15px; padding:7px;background:#eee;border-bottom:1px solid #ccc;border-top:1px solid #ccc">{{t.Register}}<span style="font-size:16px;display:inline-block;margin-left:2px">({{t.Type}})</span><span style="display:inline-block;margin-left:5px;font-size:16px;color:gray">KPIs</span></div>
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIReg('RPK',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        RPK
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Revenue Passengers(kilo) Kilometers</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)">{{t.current.UsedPerPaxKiloDistanceKMDiff}}%</span>
                                        <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                        <i ng-show="t.current.UsedPerPaxKiloDistanceKMDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerPaxKiloDistanceKMDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" class="tdchart" style="padding:5px; ">
                                        <canvas class="chart-rpk chart-reg" style="  width: 100%; " data-kpi="RPK" data-type="{{t.RegisterID}}" data-rem="{{t.Register}}" data-field="UsedPerPaxKiloDistanceKM"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerPaxKiloDistanceKM}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerPaxKiloDistanceKM}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <!--FTK-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIReg('FTK',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FTK
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Tone Kilometers</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)">{{t.current.UsedPerWeightToneDistanceDiff}}%</span>
                                        <i ng-show="t.current.UsedPerWeightToneDistanceDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)"></i>
                                        <i ng-show="t.current.UsedPerWeightToneDistanceDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneDistanceDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-ftk chart-reg" style="  width: 100%; " data-kpi="RPK" data-type="{{t.RegisterID}}" data-rem="{{t.Register}}" data-field="UsedPerWeightToneDistance"></canvas>

                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneDistance}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneDistance}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>

                    <!--FTB-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIReg('FTB',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FTB
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Tone Block Time</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)">{{t.current.UsedPerWeightToneBlockTimeDiff}}%</span>
                                        <i ng-show="t.current.UsedPerWeightToneBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)"></i>
                                        <i ng-show="t.current.UsedPerWeightToneBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerWeightToneBlockTimeDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-ftb chart-reg" style="  width: 100%; " data-kpi="RPK" data-type="{{t.RegisterID}}" data-rem="{{t.Register}}" data-field="UsedPerWeightToneBlockTime"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerWeightToneBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerWeightToneBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>

                    <!--FBL-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIReg('FBL',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FBL
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Block Time</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)">{{t.current.UsedPerBlockTimeDiff}}%</span>
                                        <i ng-show="t.current.UsedPerBlockTimeDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)"></i>
                                        <i ng-show="t.current.UsedPerBlockTimeDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerBlockTimeDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-fbl chart-reg" style="  width: 100%; " data-kpi="RPK" data-type="{{t.RegisterID}}" data-rem="{{t.Register}}" data-field="UsedPerBlockTime"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerBlockTime}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <div style="clear:both"></div>
                    <!--FC-->
                    <div class="col-lg-3 iblock" style="margin-bottom:10px;" ng-click="showKPIReg('FC',t)">
                        <div style="border:1px solid #ccc">
                            <table style="width:100%;border-bottom:0px solid #ccc">
                                <tr>
                                    <td colspan="3" style="text-align
    :center;font-weight:bold;color:gray;padding:5px;font-size:15px">
                                        FC
                                        <div style="font-weight:normal;font-size:13px;">Fuel / Cycle</div>


                                    </td>
                                </tr>
                                <tr>
                                    <td colspan="3" style="text-align:center;font-weight:bold;color:gray;padding:0 5px 5px 5px">
                                        <span style="display:inline-block;font-size:20px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)">{{t.current.UsedPerLegDiff}}%</span>
                                        <i ng-show="t.current.UsedPerLegDiff>0" class="fa fa-caret-up" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)"></i>
                                        <i ng-show="t.current.UsedPerLegDiff<0" class="fa fa-caret-down" style="font-size:30px;margin-left:5px" ng-style="getDiffStyle(-1,t.current.UsedPerLegDiff)"></i>
                                    </td>
                                </tr>


                                <tr>
                                    <td colspan="3" style="padding:5px;" class="tdchart">
                                        <canvas class="chart-fc chart-reg" style="  width: 100%; " data-kpi="RPK" data-type="{{t.RegisterID}}" data-rem="{{t.Register}}" data-field="UsedPerLeg"></canvas>
                                    </td>
                                </tr>
                                <tr style="border-top:1px dashed #ddd">

                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Current</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Past</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding-top: 5px; text-align: center; font-size: 12px;color:gray;">Avg</td>

                                </tr>
                                <tr>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;font-weight:bold;color:gray;">{{t.current.UsedPerLeg}}</td>
                                    <td style="width: 33.333%; border-right: 1px dashed #ddd; padding: 0px; text-align: center;  font-weight:bold;color:gray;">{{t.current.PreUsedPerLeg}}</td>
                                    <td style="width: 33.333%; border-right: 0px dashed #ddd; padding: 0px; text-align: center; font-weight:bold;color:gray;"></td>

                                </tr>
                            </table>

                        </div>

                    </div>
                    <!--<div class="col-lg-3 iblock" style="margin-bottom:10px;"  ></div>-->

                    <div style="clear:both"></div>
                </div>

            </div>


        </div>


        <div ng-show="activeTab=='route'" class="kpi-container">
            <!--END OF MAIN KPI CONTAINER-->
        </div>


        <div ng-show="activeTab=='stats'" class="kpi-container">
            <div>
                <table style="width:100%;">
                    <tr>
                        <td style="padding:5px;text-align:center">
                            <div style="border:1px solid #ccc;background:#eee;padding:7px;font-weight:bold" class="show-pivot show-pivot-table on-type" ng-click="showPivotTable()">Table</div>
                        </td>
                        <td style="padding:5px;text-align:center">
                            <div style="border:1px solid #ccc;background:#eee;padding:7px;font-weight:bold" class="show-pivot show-pivot-chart" ng-click="showPivotCharts()">Charts</div>
                        </td>
                    </tr>
                </table>
            </div>
            <div style="padding:8px 8px 8px 8px; " ng-show="isPivotVisible">
                <div ng-show="IsStatsPivotVisible">
                    <div id="pvtFuel" dx-pivot-grid="fuelPivotGridOptions"></div>
                </div>

                <div ng-show="IsStatsChartVisible">
                    <div style="margin-top:20px;margin-bottom:20px; padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChart" dx-chart="fuelPivotChartOptions"></div>

                    </div>
                    <div style="margin-top:20px;margin-bottom:20px; padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChartKPI" dx-chart="fuelPivotChartKPIOptions"></div>

                    </div>
                    <div style="clear:both"></div>

                    <div ng-show="IsStatsChartVisible" style="margin-top:0px;padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChartPax" dx-chart="fuelPivotChartPaxOptions"></div>

                    </div>
                    <div ng-show="IsStatsChartVisible" style="margin-top:0px;padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChartCycle" dx-chart="fuelPivotChartCycleOptions"></div>

                    </div>
                    <div ng-show="IsStatsChartVisible" style="margin-top:0px;padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChartBL" dx-chart="fuelPivotChartBLOptions"></div>

                    </div>
                    <div ng-show="IsStatsChartVisible" style="margin-top:0px;padding:15px !important;border:1px solid Gray" class="col-lg-6">
                        <div id="pvtFuelChartDistance" dx-chart="fuelPivotChartDistanceOptions"></div>

                    </div>
                    <div style="clear:both"></div>
                </div>



                <!--<table style="width:100%; ">
                    <tr>
                        <td class="dx-border" style="padding-right:5px;"><div dx-text-box="text_search_route" style="background:white"></div></td>

                        <td class="dx-border" style="width:100px;padding:0 0px  0px 5px"><div dx-select-box="sb_year" class="center"></div></td>
                        <td class="dx-border" style="width:100px;padding:0 15px  0px 5px"><div dx-select-box="sb_month" class="center"></div></td>
                    </tr>
                </table>-->

                <div style="clear:both"></div>

            </div>



            <!--END OF MAIN KPI CONTAINER-->
        </div>


    </div>
</div>


<div dx-popup="popupOptions">
    <div style="padding:20px;">
        <div data-options="dxTemplate: { name: 'content' }">
            <div id="dg_pivot" dx-data-grid="dataGridOptions"></div>
        </div>
    </div>

</div>

<div dx-load-panel="loadPanel"></div>

<div ng-include="'app/views/kpiRPK.html'"></div>
<div ng-include="'app/views/kpiRPB.html'"></div>
<div ng-include="'app/views/kpiFTK.html'"></div>
<div ng-include="'app/views/kpiFBL.html'"></div>
<div ng-include="'app/views/kpiFRP.html'"></div>
<div ng-include="'app/views/kpiFC.html'"></div>
<div ng-include="'app/views/kpiFU.html'"></div>
<div ng-include="'app/views/kpiFP.html'"></div>
<div ng-include="'app/views/kpiRPKAC.html?v=1'"></div>
<div ng-include="'app/views/kpiRPKReg.html?v=1'"></div>
<div ng-include="'app/views/kpiRPKRoute.html?v=1'"></div>


</div>


